name: include what you use Github action

on:
  push:
    branches:
      - main
      

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Set up environment
        uses: actions/setup-python@v2
        env:
          ACTIONS_STEP_DEBUG: true

      - name: Checkout code
        uses: actions/checkout@v4
        with:
          ref: v2

      - name: include what you use
        uses: EmilGedda/include-what-you-use-action@v1.0
        with:
          compilation-database-path: '.' # Use default value or specify a valid path
          output-format: 'iwyu'         # Use default value or specify 'clang' or 'iwyu'
          no-error: false               # Use default value or specify true/false
